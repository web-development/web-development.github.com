<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Objekte + Prototypen - als Präsentation </title>
	<meta name="viewport" content="width=1024, user-scalable=no">
	
	<!-- Replace path with correct path to deck.core.css. -->
	<link rel="stylesheet" href="/assets/css/deck.core.css" type="text/css">
	<link rel="stylesheet" href="/assets/css/style-theme.css" type="text/css">
	<link rel="stylesheet" href="/assets/css/transition-theme.css" type="text/css">
        <link rel="stylesheet" href="/assets/css/deck.goto.css">
        <link rel="stylesheet" href="/assets/css/deck.status.css">
        <link rel="stylesheet" href="/assets/css/deck.hash.css">
        <link rel="stylesheet" href="/assets/css/style.css">
        <style>
          /* google code prettify */
          li.L0, li.L1, li.L2, li.L3, li.L5, li.L6, li.L7, li.L8 {
              list-style-type: inherit !important;
          }
          li.L1, li.L3, li.L5, li.L7, li.L9 {
            background: none repeat scroll 0 0 #EEFEEE;
          }
          ol.linenums {
            margin-left: 80px !important;
          }

          /* deck */
          h4.caption { color: #999999; }
          h4.caption small { color: black; }
          table.table-bordered {
            border-collapse: separate;
          }
          table.table-bordered td,
          table.table-bordered th
          {
            border: 2px white solid;
            padding: 2px;
          }

          .slide img[src$=svg] {
            width: 100%;
          }
        </style>
  
	
	<!-- Any other extension CSS files go here. -->
	
	<!-- Replace path with correct path to Modernizr file. -->
	<script src="/assets/js/modernizr.custom.js"></script>
</head>
<body class="deck-container">

<!-- Create any number of elements with class slide within the container -->
          <div class="slide"><h1>Objekte + Prototypen</h1>
          <p><a href="/javascript/objekte/">zurück zum Buch-Kapitel [esc]</a></p>
          </div>
	  <div class='slide'>
<p>Javascript ist eine objektorientierte Sprache. Achtung, hier kommt es leicht zu einem Missverständniss: 
Objektorientierung hat nicht zwingend etwas mit Klassen zu tun, sondern eben mit Objekten.  Und während
z.B. in Java, C++, C#, PHP diese Objekte immer in Klassen organisiert sind, ist das in Javascript nicht
zwingend der Fall.</p>

<p>Trotzdem gibt es in Javascript Mechanismen wie Vererbung und Komposition.
In diesem Kapitel lernen wir diese Mechanismen kennen.</p>

</div>
<div class='slide'>

<h2 id="ein-einzelnes-objekt">Ein einzelnes Objekt</h2>

<p>Wie Sie ein einzelnes Objekt, das Properties und Methoden haben kann, mittels
JSON erzeugen wissen Sie ja schon:</p>

<div class="example">
<h4 class="caption">Javascript Code <small>Objekt in JSON Schreibweise</small></h4>
<pre class="lang-javascript prettyprint linenums">
var hs = {
  name: &quot;FH Salzburg&quot;,
  typ: &quot;Fachhochschule&quot;,
  seit: 1996,
  alter: function() { return  (new Date).getYear() + 1900 - this.seit }
};

console.log( hs.alter() );  // 20
</pre></div>

</div>
<div class='slide'>

<h2 id="konstruktur-funktion-fr-mehrere-gleiche-objekte">Konstruktur-Funktion für mehrere gleiche Objekte</h2>

<p>Sollen mehrere gleichartige Objekte erzeugt werden, dann
geschieht das in Javascript mit einer Konstruktur Funktion:</p>

<div class="example">
<h4 class="caption">Javascript Code <small>Konstruktor für Objekte</small></h4>
<pre class="lang-javascript prettyprint linenums">
function Studiengang(name, seit, hochschule) {
  this.name = name;
  this.seit = seit;
  this.hs = hochschule;
}

mmad = new Studiengang( &quot;DI(FH) MultiMediaArt&quot;, 1996, hs);
mmab = new Studiengang( &quot;BA MultiMediaArt&quot;, 2006, hs);
mmtb = new Studiengang( &quot;BSc MultiMediaTechnology&quot;, 2008, hs);
mmtm = new Studiengang( &quot;MSc MultiMediaTechnology&quot;, 2011, hs);
</pre></div>

<p>Jedes dieser Objekte hat nun eine Eigenschaft <code>name</code>
 und eine Eigenschaft <code>seit</code>.</p>

<p>Die so erzeugten Objekte bleiben mit der Konstruktor-Funktion
verbunden - falls keine verwendet wurde auf die Funktion <code>Object()</code>:</p>

<div class="example">
<h4 class="caption">Javascript Code <small>Fortsetzung: Konstruktor-Funktionen</small></h4>
<pre class="lang-javascript prettyprint linenums">
// folgende Ausdrücke sind true:
mmtb.constructor === Studiengang;
hs.constructor === Object;
</pre></div>

<p><img src="/images/objekt-mit-objekt-und-constructor.png" alt="Abbildung: Objekt mit Konstruktor" /></p>

<p>Dieser Konstruktor wird auch verwendet, um die Fragen <code>instanceof</code> zu beantworten:</p>

<div class="example">
<h4 class="caption">Javascript Code <small>Fortsetzung: Operator instanceof</small></h4>
<pre class="lang-javascript prettyprint linenums">
mmtb instanceof Studiengang;
hs instanceof Object;
mmtb instanceof Object;
</pre></div>

<p><code>mmtb</code> ist auch eine Instanz von <code>Object</code>! Es muss also eine Art Vererbungs-Hierarchie
geben, die wir noch nicht kennen, in der <code>Studiengang</code> als Kind von <code>Object</code> geführt wird.
Wie funktioniert das?  Die Antwort lautet:  mit dem Prototypen.</p>

</div>
<div class='slide'>

<h2 id="objekt-und-konstruktor-und-prototyp">Objekt und Konstruktor und Prototyp</h2>

<p>Wie im vorigen Kapitel kurz erläutert ist jede Funktion in Javascript auch ein Objekt.
Man kann zur Funktion Attribute speichern.  Es gibt ein Attribut mit einer speziellen Bedeutung
bei einer Konstruktor-Funktion: das Attribut <code>prototype</code>: prototype verweist auf ein Objekt,
in dem weitere Methoden und Attribute für alle Objekte die mit diesem Konstruktor erzeugt wurden
gespeichert werden.</p>

<div class="example">
<h4 class="caption">Javascript Code <small>Methoden und Attribute definieren mit dem Prototyp</small></h4>
<pre class="lang-javascript prettyprint linenums">
// Konstruktor
function Studiengang(name, seit, hs) {
  this.name = name;
  this.seit = seit;
  this.hs = hs;
}
// Zwei Attribute am prototyp des Konstruktors
Studiengang.prototype.min = 2;
Studiengang.prototype.max = 42;
// Eine Methode am prototyp des Konstruktors
Studiengang.prototype.toString = function () {
  return &quot;Studiengang &quot; + this.name + 
    &quot; (seit &quot; + this.seit + 
    &quot; @ &quot; + this.hs.name + &quot;)&quot;;
}

typeof Studiengang;  // function! 

mmtb = new Studiengang( &quot;BSc MultiMediaTechnology&quot;, 2008, hs );
mmtm = new Studiengang( &quot;MSc MultiMediaTechnology&quot;, 2011, hs );

mmtb.toString();  // findet toString Methode des 
            // Prototypen und ruft sie auf

mmtb.min    // findet min Attribut des Prototypen
            // gibt Wert 2 
mmtb.min=5  // speichert Wert 5 im Objekt selbst
mmtb.min    // gibt jetzt Wert 5
mmtm.min    // findet min Attribut des Prototypen, 
            // gibt Wert 2 
</pre></div>

<p><a href="/images/js-prototype-vis.html">Demo mit Visualisierung</a></p>

<p>Wird ein Attribut oder eine Methode an einem Objekt gesucht, und
kann direkt am Objekt nicht gefunden werden, dann durchsucht
der Javascript-Interpreter als nächstes den Prototypen des Konstruktors.</p>

<p>Attribute direkt im Objekt überschreiben die Attribute des Prototypen: im Beispiel
wird das Attribut <code>min</code> direkt im Objekt gefunden, hier ist kein Zugriff auf den Protypen nötig.</p>

<p><img src="/images/objekt-mit-prototyp.png" alt="Abbildung: Objekt mit Konstruktor" /></p>

</div>
<div class='slide'>

<h2 id="javascript-2015-schreibweise-mit-class">Javascript 2015 Schreibweise mit <code>class</code></h2>

<p>In Javascript 2015 wurde eine neue Schreibweise für Objekte und Konstruktoren
eingeführt. Die Funktionsweise der Objekte, Konstruktur-Funktionen und Prototypen
wurde dadurch nicht verändert.</p>

<p>Einziger Unterschied zwischen dieser Schreibeweise und der Schreibweise
als Funktion ist die Sichtbarkeit: in der Funktions-Schreibweise wird der Konstruktor
gehoisted (ist weiter oben schon sichtbar), in der Klassen-Schreibweise nicht.</p>

<div class="example">
<h4 class="caption">Javascript Code <small>Methoden und Attribute definieren mit dem Prototyp</small></h4>
<pre class="lang-javascript prettyprint linenums">

class Studiengang {

  constructor (name, seit, hs) {
    this.name = name;
    this.seit = seit;
    this.hs = hs;
  }


  toString () {
    return &quot;Studiengang &quot; + this.name + 
      &quot; (seit &quot; + this.seit + 
      &quot; @ &quot; + this.hs.name + &quot;)&quot;;
  }

} 

// Zwei Attribute am prototyp des Konstruktors
Studiengang.prototype.min = 2;
Studiengang.prototype.max = 42;

typeof Studiengang;  // function! 

mmtb = new Studiengang( &quot;BSc MultiMediaTechnology&quot;, 2008, hs );
mmtm = new Studiengang( &quot;MSc MultiMediaTechnology&quot;, 2011, hs );

mmtb.toString();  // findet toString Methode des 
            // Prototypen und ruft sie auf

mmtb.min    // findet min Attribut des Prototypen
            // gibt Wert 2 
mmtb.min=5  // speichert Wert 5 im Objekt selbst
mmtb.min    // gibt jetzt Wert 5
mmtm.min    // findet min Attribut des Prototypen, 
            // gibt Wert 2 
</pre></div>

</div>
<div class='slide'>

<h2 id="verteifung">Verteifung</h2>

<p>Dies war nur ein erster Einstieg in die objektorientierte Programmierung mit Javascript.
Details zu einigen wichtigen Befehlen in der Javascript-Referenz bei Mozilla:</p>

<ul>
  <li><a href="https://developer.mozilla.org/en/JavaScript/Reference/Operators/instanceof">instanceof</a></li>
</ul>
</div>
          <div class="slide"><h1>Ende</h1>
          <p><a href="/javascript/objekte/">zurück zum Buch-Kapitel [esc]</a></p>
          </div>
	
<!-- Other extension HTML snippets go here, at the bottom of the deck container. -->
<!-- deck.status snippet -->
<p class="deck-status">
  <span class="deck-status-current"></span>
  /
  <span class="deck-status-total"></span>
</p>

<!-- deck.hash snippet -->
<a href="." title="Permalink to this slide" class="deck-permalink">#</a>

<!-- Update these paths to point to the correct files. -->
<script src="/assets/js/jquery.min.js"></script>
<script src="/assets/js/deck.core.js"></script>
<script src="/assets/js/deck.hash.js"></script>
<script src="/assets/js/deck.goto.js"></script>
<script src="/assets/js/deck.status.js"></script>

<!-- Add any other extension JS files here -->
<script src="/assets/js/deck.escape.js"></script>

<script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script>

<!-- Initialize the deck. You can put this in an external file if desired. -->
<script>
  $(function() {
    $.deck('.slide');
  });
</script>
</body>
</html>
