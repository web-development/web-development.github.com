<!DOCTYPE html> 
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6 web-development"> <![endif]-->
<!--[if IE 7 ]>    <html lang="en" class="no-js ie7 web-development"> <![endif]-->
<!--[if IE 8 ]>    <html lang="en" class="no-js ie8 web-development"> <![endif]-->
<!--[if IE 9 ]>    <html lang="en" class="no-js ie9 web-development"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html lang="en" class="no-js web-development"> <!--<![endif]-->
<head> 

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <title>Lehrbuch Web-Development - PHP erzeugt nicht nur HTML</title>
   
  <meta name="author" content="Brigitte Jellinek"> 
  <meta name="description" content="Ein Lehrbuch für das Informatik- oder Medieninformatik-Studium."> 

  <meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0;">
  <meta name="generator" content="nanoc 3.1.6">

  <link rel="shortcut icon" href="/assets/img/favicon.ico">

  <link rel="stylesheet" href="/assets/css/bootstrap.css?v=1">
  <link rel="stylesheet" href="/assets/css/prettify.css?v=1">
  <style>
    body {  padding-top: 90px; }
    article {  padding-top: 40px; }
    body, p, li, dt, dd {  
      font-size: 15px; 
      line-height: 1.5 ;
    }
  </style>

  <script src="/assets/js/jquery.js?v=1.7.1"></script>
  <script src="/assets/js/bootstrap.js?v=1"></script>
  <script src="/assets/js/prettify.js?v=1"></script>
  <script src="/assets/js/libs/modernizr-1.5.min.js?v=1"></script>

</head>
<body>

<div class="container">

  <header class="jumbotron sub-header">
      <h1><a href="/" title="Web Development">Web Development</a></h1>
      <p class="lead">Ein Lehrbuch für das Informatik oder Medien-Informatik Studium.</p>
  </header>
    



	<!-- body -->
	<article id="body" class="row">
		
		<div class="span8">
		
			
                          <div class="page-header">
				<h2 class="title">PHP erzeugt nicht nur HTML</h2>
                          </div>
			
			
			<p>Ein PHP-Programm gibt normalerweise HTML aus. Entsprechend liefert der PHP-Interpreter einen http-Header „Content-Type: text/html“. Mit dem Befehl header() kann dies verändert werden.</p>

<h2 id="php-erzeugt-css">PHP erzeugt CSS</h2>
<p>Eine externes Stylesheet kann auch Output eines PHP-Programmes sein:</p>

<div class="example">
<h4 class="caption">Html Code <small>Dieses HTML-Dokument referenziert ein Stylesheet das von PHP erzeugt wird</small></h4>
<pre class="lang-html prettyprint linenums">
      &lt;! DOCTYPE html&gt;
      &lt;html&gt;
          &lt;head&gt;
              &lt;link rel=&quot;stylesheet&quot; href=&quot;style.php&quot;&gt;
          &lt;/head&gt;
          &lt;body&gt;
              &lt;h1&gt;Überschrift&lt;/h1&gt;
              &lt;p&gt;text text text&lt;/p&gt;
          &lt;/body&gt;
      &lt;/html&gt;
</pre></div>

<p>Ein Stylesheet, das von PHP aus erzeugt wird, hat den Vorteil, dass man Variablen verwenden kann, z.B. für die Definition von Farben, die mehrmals im Stylesheet verwendet werden sollen. In folgendem Beispiel wird einfach das ganze Stylesheet mit einem echo ausgegeben:</p>

<pre><code>  &lt;?php
      $blau = "rgb(0,0,255)";
  echo "
  body { padding: 3em; }
  h1 {   color: $blau; }
  .box {
      background-color: $blau;
  }
  ";
  ?&gt;
</code></pre>

<p>Für mehrzeilige Strings gibt es in PHP eine alternative Schreibweise, die hier sehr praktisch wäre:</p>

<pre><code>  &lt;?php
      $blau = "rgb(0,0,255)";
  echo &lt;&lt;&lt;ENDE
  body { padding: 3em; }
  h1 {   color: $blau; }
  .box {
      background-color: $blau;
  }
  ENDE;
  ?&gt;
</code></pre>

<h2 id="php-erzeugt-bild">PHP erzeugt Bild</h2>
<p>Das PHP-Programm kann auch Bilddaten ausgeben, diese können dann auf die bekannten Arten im Web verwendet werden:</p>

<div class="example">
<h4 class="caption">Html Code <small>Dieses HTML-Dokument referenziert ein Hintergrundbild das von PHP erzeugt wird</small></h4>
<pre class="lang-html prettyprint linenums">
      &lt;! DOCTYPE html&gt;
      &lt;html&gt;
          &lt;head&gt;
              &lt;style&gt;
                  body {
                      margin-left: 120px;
                      background-image: url(drawbackground.php);
                      background-repeat: repeat-y;
                  }
              &lt;/style&gt;
          &lt;/head&gt;
          &lt;body&gt;
              &lt;h1&gt;Zufalls-Hintergrund&lt;/h1&gt;
              &lt;p&gt;Das verwendete Hintergrundbild wurde von PHP erzeugt:&lt;/p&gt;
              &lt;p&gt;&lt;img src=&quot;drawbackground.php&quot; /&gt;
          &lt;/body&gt;
      &lt;/html&gt;
</pre></div>

<p>Welches Bildformat verwendet wird (jpg, gif, png, …) wird wieder über den http-Header Content-Type angekündigt. Die Befehle zur Bild-Erzeugung in Manipulation sind unter dem Stichwort „Image Funktions“ in der PHP-Doku zu finden.</p>

<pre><code>  &lt;?php  // Waagrechte Linien zufälliger Länge
      header("Content-type: image/png");

      $max = 100;  // maximale Breite des Bildes
      $im = imagecreate($max, 100);
      $background_color = imagecolorallocate($im, 255, 255, 255);
      $drawing_color    = imagecolorallocate($im, 255, 0, 255);

      imagefill($im, 0, 0, $background_color);
      $y=0;
      while( $y &lt; 100 ) {
          $x = rand(0,$max);
          imageline($im, 0, $y, $x, $y, $drawing_color);
          $y=$y+2;
      }
      
      imagepng($im);  // gibt das Bild aus
      imagedestroy($im);
  ?&gt; 
</code></pre>

<h2 id="php-erzeugt-variablen-fr-flash">PHP erzeugt Variablen für Flash</h2>

<p>Wenn PHP als „Backend“ für Flash verwendet wird kommt eine sehr einfache Form der Ausgabe zum Einsatz:  die Variablennamen und Werte werden wie für eine URL encodiert und ausgegeben. So könnte der Output eines Counters so aussehen:</p>

<p>count=25856&amp;date=2.Mai+2008&amp;time=10:15</p>

<p>Unter dem Stichwort „URL Funktionen“ finden Sie in der PHP-Doku die Funktion <code>http_build_query()</code> die hier weiterhilft.</p>

<h2 id="php-erzeugt-xml">PHP erzeugt XML</h2>

<p>Bei der Zusammenarbeit mit Flash kommt auch XML zum Einsatz. Dies ist notwendig wenn komplexe Datenstrukturen übertragen werden sollen. Für eine Flash-Bildergalerie, die alle Bild-Dateien am Server darstellen soll, muss man zum Beispiel die Liste der Bilder übertragen:</p>

<pre><code>  &lt;bilder&gt;
          &lt;bild imageurl="img/DSC_3461.jpg" /&gt;
          &lt;bild imageurl="img/DSC_3462.jpg" /&gt;
  &lt;/bilder&gt;
</code></pre>

<p>Das PHP-Programm dazu könnte so aussehen:</p>

<pre><code>  &lt;?php
     header("Content-Type: application/xml");

     $bilder = glob("*.jpg");
     
     echo("&lt;bilder&gt;\n");
     foreach( $bilder as $bild ) {
         echo("&lt;bild imgurl='$bild' /&gt;\n");
     
     }
     echo("&lt;/bilder&gt;\n");
  ?&gt;
</code></pre>

<h2 id="php-leitet-weiter">PHP leitet weiter</h2>
<p>Ein PHP-Programm kann den Browser zu einer anderen URL weiterleiten. So kann zum Beispiel die Verarbeitung einer Bestellung (im ersten PHP-Programm) von der Darstellung des Bestellstatus (im zweiten PHP-Programm) getrennt werden:</p>

<pre><code>&lt;?php
// hier passieren wichtige Dinge ...
header("Location: status.php");
exit; /* fertig, nichts weiter ausgeben! */ 
?&gt;
</code></pre>

		
			<div class="pagination">
  <ul>
    
      <li><a href="/http/http/">← <span class="article">HTTP</a></li>
    
    
      <li><a href="/http/php-und-parameter/">In PHP Daten aus Web-Formularen verarbeiten →</a></li>
    
  </ul>
</div>

		</div>
		
		<!-- sidebar -->
<div id="sidebar" class="span3 offset1">
        
        <h2>Kapitel</h2>
        <hr>
        
        <ul class="nav nav-list">
        
          
            <li ><a href="/das-web-und-html">DAS WEB UND HTML</a>
              <ul class="sub">
                
                  
                    
                      
                    
                      
                      <li ><a href="/das-web-und-html/geschichte/">Eine Kurze Geschichte des World Wide Web</a></li>
                      
                    
                      
                      <li ><a href="/das-web-und-html/standards/">Drei Standards definieren das Web</a></li>
                      
                    
                      
                      <li ><a href="/das-web-und-html/html-grundkurs/">HTML Grundkurs</a></li>
                      
                    
                      
                      <li ><a href="/das-web-und-html/upload/">Upload und Tools</a></li>
                      
                    
                  
                
              </ul>
            </li>
          
            <li ><a href="/css">CSS</a>
              <ul class="sub">
                
                  
                    
                      
                    
                      
                      <li ><a href="/css/css-kurz/">Kurzvorstellung von Stylesheets</a></li>
                      
                    
                      
                      <li ><a href="/css/css/">Geschichte der Cascading Style Sheets</a></li>
                      
                    
                      
                      <li ><a href="/css/graceful/">Graceful Degradation</a></li>
                      
                    
                  
                
              </ul>
            </li>
          
            <li ><a href="/css-layout">CSS LAYOUT</a>
              <ul class="sub">
                
                  
                    
                      
                    
                      
                      <li ><a href="/css-layout/rahmenbedingungen/">Rahmenbedingungen für Layout</a></li>
                      
                    
                      
                      <li ><a href="/css-layout/layout/">CSS für Layout</a></li>
                      
                    
                      
                      <li ><a href="/css-layout/selektoren/">CSS Selektoren</a></li>
                      
                    
                  
                
              </ul>
            </li>
          
            <li ><a href="/urls">URLS</a>
              <ul class="sub">
                
                  
                    
                      
                    
                      
                      <li ><a href="/urls/absolut-relativ/">Absolute und relative URLs</a></li>
                      
                    
                      
                      <li ><a href="/urls/konfiguration/">Konfiguration</a></li>
                      
                    
                      
                      <li ><a href="/urls/tipps/">Pragmatische Tipps</a></li>
                      
                    
                  
                
              </ul>
            </li>
          
            <li ><a href="/formulare">FORMULARE</a>
              <ul class="sub">
                
                  
                    
                      
                    
                      
                      <li ><a href="/formulare/16/">Formulare</a></li>
                      
                    
                      
                      <li ><a href="/formulare/17/">Daten absenden</a></li>
                      
                    
                      
                      <li ><a href="/formulare/18/">Formular und PHP</a></li>
                      
                    
                      
                      <li ><a href="/formulare/19/">Formular und Javascript</a></li>
                      
                    
                  
                
              </ul>
            </li>
          
            <li ><a href="/javascript-dom">JAVASCRIPT DOM</a>
              <ul class="sub">
                
                  
                    
                      
                    
                      
                      <li ><a href="/javascript-dom/20/">Hintergründe</a></li>
                      
                    
                      
                      <li ><a href="/javascript-dom/21/">Basic Javascript</a></li>
                      
                    
                  
                
              </ul>
            </li>
          
            <li ><a href="/jquery">JQUERY</a>
              <ul class="sub">
                
                  
                    
                      
                    
                      
                      <li ><a href="/jquery/22/">Unobstrusive Javascript</a></li>
                      
                    
                      
                      <li ><a href="/jquery/23/">Besondere Javascript-Schreibwesen in jQuery</a></li>
                      
                    
                      
                      <li ><a href="/jquery/24/">Selektieren und Manipulieren mit jQuery</a></li>
                      
                    
                      
                      <li ><a href="/jquery/25/">Interaktion mit jQuery</a></li>
                      
                    
                      
                      <li ><a href="/jquery/26/">Formulardaten Prüfen mit jQuery</a></li>
                      
                    
                  
                
              </ul>
            </li>
          
            <li ><a href="/php-vorbereitung">PHP VORBEREITUNG</a>
              <ul class="sub">
                
                  
                
              </ul>
            </li>
          
            <li class="active"><a href="/http">HTTP</a>
              <ul class="sub">
                
                  
                    
                      
                    
                      
                      <li ><a href="/http/tcpip-und-dns/">TCP/IP und DNS</a></li>
                      
                    
                      
                      <li ><a href="/http/http/">HTTP</a></li>
                      
                    
                      
                      <li class="active"><a href="/http/php-erzeugt/">PHP erzeugt nicht nur HTML</a></li>
                      
                    
                      
                      <li ><a href="/http/php-und-parameter/">In PHP Daten aus Web-Formularen verarbeiten</a></li>
                      
                    
                  
                
              </ul>
            </li>
          
            <li ><a href="/git">GIT</a>
              <ul class="sub">
                
                  
                    
                      
                    
                      
                      <li ><a href="/git/versionskontrolle/">Versionskontrolle</a></li>
                      
                    
                      
                      <li ><a href="/git/basic-git/">Einfacher Arbeitsablauf in Git</a></li>
                      
                    
                      
                      <li ><a href="/git/git-status/">Status von Git abfragen</a></li>
                      
                    
                  
                
              </ul>
            </li>
          
        
        </ul>

</div>
<!-- sidebar -->

		
	</article>
	<!-- /body -->


  <div class="row">
    <div class="span12" id="legal">
        <p class="copyright">Copyright &copy; 2011 by <a href="#">Brigitte Jellinek</a>.<br /><span class="sponsor-line"></p>
    </div>
  </div>

</div> <!-- class="container" -->

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>
<script>!window.jQuery && document.write(unescape('%3Cscript src="/assets/js/libs/jquery-1.6.4.min.js"%3E%3C/script%3E'))</script>
<script>
  $(document).ready(function(){
    $('ul.nav ul.sub').hide();
    $('ul.nav li.active ul.sub').show();
  });
</script>
</body> 
</html>

